using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerCombat : MonoBehaviour
{

    public Animator animator;
    
    public Transform attackPoint;
    public float attackRange = 0.5f;
    public LayerMask enemyLayers;
    
    
    Void Update()
    { 
    
        if (Input.GetKeyDown(KeyCode.Space))
        {
             Attack();
        }
    }  
      
    void Attack()
    {
       // Play an attack animation
       animatior.SetTrigger("Attack");
       
       // Deect enemies in range of attack
       Collider2D[] hitEnemies = Pysics2D.OverlapCircleAll(attackPoint.position, attackRange, enemyLayers);
       
       // Damge them
       foreach(Collider2D enemy in hitEnemies)
       {
          Debug.Log("We hit " + enemy.name);
       }  
    }
   Void OnDrawGizmosSelected()
   {
      if(attackPoint == null)
      return;
    
      Gizmos.DrawWireSphere(attackPoint.position, attackRange);
   }
  

 }  
